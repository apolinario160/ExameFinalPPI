<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Desejo de Adoção</title>
  <!-- Adicione os links para os arquivos CSS -->
  <link rel="stylesheet" href="adotarPet.css">
</head>

<body>
  <div class="container">
    <!-- Formulário para adicionar um novo registro de desejo de adoção -->
    <form action='/adicionar_desejo' method='POST' class="desejo-adocao-form">
      <fieldset>
        <legend class="mb-3">Desejo de Adoção</legend>

        <!-- Dropdown para selecionar o interessado -->
        <div class="form-group">
          <label for="interessado">Interessado:</label>
          <select id="interessado" name="interessado" required>
            <!-- Renderize as options com os nomes dos interessados -->
            <!-- ... (renderizar as options com os interessados cadastrados) -->
          </select>
        </div>

        <!-- Dropdown para selecionar o pet -->
        <div class="form-group">
          <label for="pet">Pet:</label>
          <select id="pet" name="pet" required>
            <!-- Renderize as options com os pets cadastrados -->
            <!-- ... (renderizar as options com os pets cadastrados) -->
          </select>
        </div>

        <!-- Botão para adicionar o registro de desejo de adoção -->
        <div class="form-group">
          <button type="submit">Adotar Pet</button>
        </div>
      </fieldset>
    </form>

    <!-- Lista de desejos de adoção -->
    <div class="lista-desejos">
      <h2>Lista de Desejos de Adoção</h2>
      <!-- Renderize aqui a lista de desejos de adoção -->
      <ul>
        <!-- ... (renderizar os desejos de adoção existentes) -->
      </ul>
    </div>
    
    <div id="logoutReturnButtons">
        <a href="/menu.html" class="return-button">Retornar ao Menu</a>
        <button id="logoutButton">Logout</button>
      </div>
  </div>
  <script>
    document.getElementById('logoutButton').addEventListener('click', function() {
      fetch('/logout', {
        method: 'POST'
      })
      .then(response => {
        // Redirecionar para a página de login após logout
        window.location.href = '/login.html';
      })
      .catch(error => {
        console.error('Erro ao fazer logout:', error);
      });
    });

    
  </script>

<script>
  // Lógica para carregar os interessados e pets
  fetch('/listaInteressados') // Rota para obter os interessados
      .then(response => response.json())
      .then(data => {
          const selectInteressados = document.getElementById('interessado');
          data.forEach(interessado => {
              const option = document.createElement('option');
              option.value = interessado.nome; // Use o nome do interessado
              option.textContent = interessado.nome; // Use o nome do interessado
              selectInteressados.appendChild(option);
          });
      });

  fetch('/listaPets') // Rota para obter os pets
      .then(response => response.json())
      .then(data => {
          const selectPets = document.getElementById('pet');
          data.forEach(pet => {
              const option = document.createElement('option');
              option.value = pet.nome_pet; // Use o nome do pet
              option.textContent = pet.nome_pet; // Use o nome do pet
              selectPets.appendChild(option);
          });
      });
</script>


</body>

</html>
